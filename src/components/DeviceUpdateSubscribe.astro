---
const {...rest} = Astro.props;
---

<div id="mc_embed_shell" {...rest}>
    <link
        href="//cdn-images.mailchimp.com/embedcode/classic-061523.css"
        rel="stylesheet"
        type="text/css"
    />
    <div>
        <p class="note">get updates on new firmware re√∏eases and new tools</p>
        <form
            action="https://gmail.us17.list-manage.com/subscribe/post?u=aeaa412d0bb97f711adce99bf&id=915dc46d7f&f_id=00aa7fe0f0"
            method="post"
            id="mc-embedded-subscribe-form"
            name="mc-embedded-subscribe-form"
            class="validate"
            target="_blank"
        >
            <input
                type="email"
                name="EMAIL"
                placeholder="enter email address.."
                class="required email input-small"
                id="mce-EMAIL"
                required=""
                value=""
            />
            <div hidden="">
                <input type="hidden" name="tags" value="7113789" />
            </div>

            <div
                aria-hidden="true"
                style="position: absolute; left: -5000px;"
            >
            /* real people should not fill this in and expect good
            things - do not remove this or risk form bot signups */
            <input
                type="text"
                name="b_aeaa412d0bb97f711adce99bf_915dc46d7f"
                tabindex="-1"
                value=""
            />
            </div>
            <input
                type="submit"
                name="subscribe"
                class="button input-small"
                value="Subscribe"
            />
        </form>
    </div>
</div>

<style>
form {
    display: flex;
    flex-direction: row;
    gap: 10px;
}
input[type="email"] {
    width: 100%;
    max-width: 400px;
}
</style>

<script type="text/javascript">

    function loadMailchimpScript() {
        // Load script
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js";
        document.head.appendChild(script);
        
        // Run it
        script.onload = function() {
            (function ($) {
                window.fnames = new Array();
                window.ftypes = new Array();
                fnames[0] = "EMAIL";
                ftypes[0] = "email";
            })(jQuery);
            var $mcj = jQuery.noConflict(true);
        };
    }

    // Load script when page is loaded. Give it a little delay to prioritize other scripts
    window.addEventListener('load', function() {
        setTimeout(loadMailchimpScript, 100);
    });
</script>